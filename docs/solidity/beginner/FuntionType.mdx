
# å‡½æ•° ğŸ”§ 

## ğŸ“ å‡½æ•°å½¢å¼

```js
function <function name>(<parameter types>) {internal|external|public|private} [pure|view|payable] [returns (<return types>)]
```

1. **`function`**ï¼šå£°æ˜å‡½æ•°çš„å›ºå®šç”¨æ³•ã€‚è¦ç¼–å†™å‡½æ•°ï¼Œéœ€è¦ä»¥ `function` å…³é”®å­—å¼€å¤´ã€‚

2. **`<function name>`**ï¼šå‡½æ•°åã€‚

3. **`(<parameter types>)`**ï¼šåœ†æ‹¬å·å†…å†™å…¥å‡½æ•°çš„å‚æ•°ï¼Œå³è¾“å…¥åˆ°å‡½æ•°çš„å˜é‡ç±»å‹å’Œåç§°ã€‚

4. **`{internal|external|public|private}`**ï¼šå‡½æ•°å¯è§æ€§è¯´æ˜ç¬¦ï¼Œå…±æœ‰4ç§ï¼š

    - **`public`**ï¼šå†…éƒ¨å’Œå¤–éƒ¨å‡å¯è§ã€‚
    - **`private`**ï¼šåªèƒ½ä»æœ¬åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦ä¹Ÿä¸èƒ½ä½¿ç”¨ã€‚
    - **`external`**ï¼šåªèƒ½ä»åˆçº¦å¤–éƒ¨è®¿é—®ï¼ˆä½†å†…éƒ¨å¯ä»¥é€šè¿‡ `this.f()` æ¥è°ƒç”¨ï¼Œ`f` æ˜¯å‡½æ•°åï¼‰ã€‚
    - **`internal`**ï¼šåªèƒ½ä»åˆçº¦å†…éƒ¨è®¿é—®ï¼Œç»§æ‰¿çš„åˆçº¦å¯ä»¥ç”¨ã€‚

:::tip å°æç¤º1
åˆçº¦ä¸­å®šä¹‰çš„å‡½æ•°éœ€è¦æ˜ç¡®æŒ‡å®šå¯è§æ€§ï¼Œå®ƒä»¬æ²¡æœ‰é»˜è®¤å€¼ã€‚
:::

:::tip å°æç¤º2
**`public`**ã€**`private`**ã€**`internal`** ä¹Ÿå¯ç”¨äºä¿®é¥°çŠ¶æ€å˜é‡ã€‚`public` å˜é‡ä¼šè‡ªåŠ¨ç”ŸæˆåŒåçš„ `getter` å‡½æ•°ï¼Œç”¨äºæŸ¥è¯¢æ•°å€¼ã€‚æœªæ ‡æ˜å¯è§æ€§ç±»å‹çš„çŠ¶æ€å˜é‡ï¼Œé»˜è®¤ä¸º `internal`ã€‚
:::

5. **`[pure|view|payable]`**ï¼šå†³å®šå‡½æ•°æƒé™/åŠŸèƒ½çš„å…³é”®å­—ã€‚`payable`ï¼ˆå¯æ”¯ä»˜çš„ï¼‰å¾ˆå¥½ç†è§£ï¼Œå¸¦ç€å®ƒçš„å‡½æ•°è¿è¡Œæ—¶å¯ä»¥ç»™åˆçº¦è½¬å…¥ ETHã€‚`pure` å’Œ `view` çš„ä»‹ç»è§ä¸‹ä¸€èŠ‚ã€‚

6. **`[returns ()]`**ï¼šå‡½æ•°è¿”å›çš„å˜é‡ç±»å‹å’Œåç§°ã€‚

## ğŸ” Pure å’Œ View çš„åŒºåˆ«ï¼Ÿ

åˆšå¼€å§‹å­¦ä¹  Solidity æ—¶ï¼Œ`pure` å’Œ `view` å…³é”®å­—å¯èƒ½ä»¤äººè´¹è§£ï¼Œå› ä¸ºå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸­æ²¡æœ‰ç±»ä¼¼çš„å…³é”®å­—ã€‚Solidity å¼•å…¥è¿™ä¸¤ä¸ªå…³é”®å­—ä¸»è¦æ˜¯å› ä¸ºä»¥å¤ªåŠäº¤æ˜“éœ€è¦æ”¯ä»˜æ°”è´¹ï¼ˆgas feeï¼‰ã€‚åˆçº¦çš„çŠ¶æ€å˜é‡å­˜å‚¨åœ¨é“¾ä¸Šï¼Œgas fee å¾ˆè´µï¼Œå¦‚æœè®¡ç®—ä¸æ”¹å˜é“¾ä¸ŠçŠ¶æ€ï¼Œå°±å¯ä»¥ä¸ç”¨ä»˜ gasã€‚åŒ…å« `pure` å’Œ `view` å…³é”®å­—çš„å‡½æ•°æ˜¯ä¸æ”¹å†™é“¾ä¸ŠçŠ¶æ€çš„ï¼Œå› æ­¤ç”¨æˆ·ç›´æ¥è°ƒç”¨å®ƒä»¬æ˜¯ä¸éœ€è¦ä»˜ gas çš„ï¼ˆæ³¨æ„ï¼Œåˆçº¦ä¸­é `pure/view` å‡½æ•°è°ƒç”¨ `pure/view` å‡½æ•°æ—¶éœ€è¦ä»˜ gasï¼‰ã€‚

åœ¨ä»¥å¤ªåŠä¸­ï¼Œä»¥ä¸‹æ“ä½œè¢«è§†ä¸ºä¿®æ”¹é“¾ä¸ŠçŠ¶æ€ï¼š

1. âœï¸ å†™å…¥çŠ¶æ€å˜é‡ã€‚
2. ğŸ‰ é‡Šæ”¾äº‹ä»¶ã€‚
3. ğŸ—ï¸ åˆ›å»ºå…¶ä»–åˆçº¦ã€‚
4. ğŸ’£ ä½¿ç”¨ `selfdestruct`ã€‚
5. ğŸ’¸ å‘é€ä»¥å¤ªå¸ã€‚
6. ğŸ“ è°ƒç”¨ä»»ä½•æœªæ ‡è®° `view` æˆ– `pure` çš„å‡½æ•°ã€‚
7. ğŸ”§ ä½¿ç”¨ä½çº§è°ƒç”¨ï¼ˆlow-level callsï¼‰ã€‚
8. ğŸ”¢ ä½¿ç”¨åŒ…å«æŸäº›æ“ä½œç çš„å†…è”æ±‡ç¼–ã€‚

ä¸ºäº†å¸®åŠ©å¤§å®¶ç†è§£ï¼Œæˆ‘ç”»äº†ä¸€ä¸ªé©¬é‡Œå¥¥æ’å›¾ã€‚åœ¨è¿™å¹…æ’å›¾ä¸­ï¼Œæˆ‘å°†åˆçº¦ä¸­çš„çŠ¶æ€å˜é‡ï¼ˆå­˜å‚¨åœ¨é“¾ä¸Šï¼‰æ¯”ä½œç¢§çªå…¬ä¸»ï¼Œä¸‰ç§ä¸åŒçš„è§’è‰²ä»£è¡¨ä¸åŒçš„å…³é”®å­—ã€‚

![alt text](../../public/beginner/funtionType/maliao.png)

- **`pure`**ï¼Œä¸­æ–‡æ„æ€æ˜¯â€œçº¯â€ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºâ€çº¯æ‰“é…±æ²¹çš„â€ã€‚`pure` å‡½æ•°æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½å†™å…¥é“¾ä¸Šçš„çŠ¶æ€å˜é‡ã€‚å°±åƒå°æ€ªä¸€æ ·ï¼Œçœ‹ä¸åˆ°ä¹Ÿæ‘¸ä¸åˆ°ç¢§çªå…¬ä¸»ã€‚

- **`view`**ï¼Œâ€œçœ‹â€ï¼Œè¿™é‡Œå¯ä»¥ç†è§£ä¸ºâ€œçœ‹å®¢â€ã€‚`view` å‡½æ•°èƒ½è¯»å–ä½†ä¸èƒ½å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥ï¼Œèƒ½çœ‹åˆ°ç¢§çªå…¬ä¸»ï¼Œä½†ç»ˆç©¶æ˜¯çœ‹å®¢ï¼Œä¸èƒ½å…¥æ´æˆ¿ã€‚

- é `pure` æˆ– `view` çš„å‡½æ•°æ—¢å¯ä»¥è¯»å–ä¹Ÿå¯ä»¥å†™å…¥çŠ¶æ€å˜é‡ã€‚ç±»ä¼¼é©¬é‡Œå¥¥é‡Œçš„ bossï¼Œå¯ä»¥å¯¹ç¢§çªå…¬ä¸»ä¸ºæ‰€æ¬²ä¸ºğŸ¶ã€‚

## ğŸ’» ä»£ç ç¤ºä¾‹

### 1. âš™ï¸ pure å’Œ view

æˆ‘ä»¬åœ¨åˆçº¦é‡Œå®šä¹‰ä¸€ä¸ªçŠ¶æ€å˜é‡ `number`ï¼Œåˆå§‹åŒ–ä¸º 5ã€‚

```js
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.21;
contract FunctionTypes{
    uint256 public number = 5;
}
```

å®šä¹‰ä¸€ä¸ª `add()` å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä¼šè®© `number` å¢åŠ  1ã€‚

```js
// é»˜è®¤function
function add() external {
    number = number + 1;
}
```

å¦‚æœ `add()` å‡½æ•°è¢«æ ‡è®°ä¸º `pure`ï¼Œæ¯”å¦‚ `function add() external pure`ï¼Œå°±ä¼šæŠ¥é”™ã€‚å› ä¸º `pure` å‡½æ•°ä¸èƒ½è¯»å–åˆçº¦é‡Œçš„çŠ¶æ€å˜é‡ï¼Œæ›´ä¸èƒ½æ”¹å†™ã€‚é‚£ä¹ˆ `pure` å‡½æ•°èƒ½åšäº›ä»€ä¹ˆï¼Ÿä¸¾ä¸ªä¾‹å­ï¼Œä½ å¯ä»¥ç»™å‡½æ•°ä¼ é€’ä¸€ä¸ªå‚æ•° `_number`ï¼Œç„¶åè®©å®ƒè¿”å› `_number + 1`ï¼Œè¿™ä¸ªæ“ä½œä¸ä¼šè¯»å–æˆ–å†™å…¥çŠ¶æ€å˜é‡ã€‚

```js
// pure: çº¯çº¯ç‰›é©¬
function addPure(uint256 _number) external pure returns(uint256 new_number) {
    new_number = _number + 1;
}
```

![alt text](../../public/beginner/funtionType/addPure.png)

å¦‚æœ `add()` å‡½æ•°è¢«æ ‡è®°ä¸º `view`ï¼Œæ¯”å¦‚ `function add() external view`ï¼Œä¹Ÿä¼šæŠ¥é”™ã€‚å› ä¸º `view` å‡½æ•°èƒ½è¯»å–ï¼Œä½†ä¸èƒ½æ”¹å†™çŠ¶æ€å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥ç¨å¾®æ”¹å†™ä¸‹å‡½æ•°ï¼Œè¯»å–ä½†æ˜¯ä¸æ”¹å†™ `number`ï¼Œè¿”å›ä¸€ä¸ªæ–°çš„å˜é‡ã€‚

```js
// view: çœ‹å®¢
function addView() external view returns(uint256 new_number) {
    new_number = number + 1;
}
```

![alt text](../../public/beginner/funtionType/addview.png)

### 2. ğŸ” internal vs. external

```js
// internal: å†…éƒ¨å‡½æ•°
function minus() internal {
    number = number - 1;
}

// åˆçº¦å†…çš„å‡½æ•°å¯ä»¥è°ƒç”¨å†…éƒ¨å‡½æ•°
function minusCall() external {
    minus();
}
```

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª `internal` çš„ `minus()` å‡½æ•°ï¼Œæ¯æ¬¡è°ƒç”¨ä½¿å¾— `number` å˜é‡å‡å°‘ 1ã€‚ç”±äº `internal` å‡½æ•°åªèƒ½ç”±åˆçº¦å†…éƒ¨è°ƒç”¨ï¼Œæˆ‘ä»¬å¿…é¡»å†å®šä¹‰ä¸€ä¸ª `external` çš„ `minusCall()` å‡½æ•°ï¼Œé€šè¿‡å®ƒé—´æ¥è°ƒç”¨å†…éƒ¨çš„ `minus()` å‡½æ•°ã€‚

![alt text](../../public/beginner/funtionType/minuscall.png)

### 3. ğŸ’° payable

```js
// payable: é€’é’±ï¼Œèƒ½ç»™åˆçº¦æ”¯ä»˜ethçš„å‡½æ•°
function minusPayable() external payable returns(uint256 balance) {
    minus();    
    balance = address(this).balance;
}
```

æˆ‘ä»¬å®šä¹‰ä¸€ä¸ª `external payable` çš„ `minusPayable()` å‡½æ•°ï¼Œé—´æ¥åœ°è°ƒç”¨ `minus()`ï¼Œå¹¶ä¸”è¿”å›åˆçº¦é‡Œçš„ ETH ä½™é¢ï¼ˆ`this` å…³é”®å­—å¯ä»¥è®©æˆ‘ä»¬å¼•ç”¨åˆçº¦åœ°å€ï¼‰ã€‚æˆ‘ä»¬å¯ä»¥åœ¨è°ƒç”¨ `minusPayable()` æ—¶å¾€åˆçº¦é‡Œè½¬å…¥ 1 ä¸ª ETHã€‚

![alt text](../../public/beginner/funtionType/enter_ether.png)

æˆ‘ä»¬å¯ä»¥åœ¨è¿”å›çš„ä¿¡æ¯ä¸­çœ‹åˆ°ï¼Œåˆçº¦çš„ä½™é¢å˜ä¸º 1 ETHã€‚

![alt text](../../public/beginner/funtionType/enter_value.png)

![alt text](../../public/beginner/funtionType/eth_result.png)

## ğŸ æ€»ç»“

åœ¨è¿™ä¸€è®²ï¼Œæˆ‘ä»¬ä»‹ç»äº† Solidity ä¸­çš„å‡½æ•°ã€‚`pure` å’Œ `view` å…³é”®å­—æ¯”è¾ƒéš¾ç†è§£ï¼Œåœ¨å…¶ä»–è¯­è¨€ä¸­æ²¡å‡ºç°è¿‡ï¼š`view` å‡½æ•°å¯ä»¥è¯»å–çŠ¶æ€å˜é‡ï¼Œä½†ä¸èƒ½æ”¹å†™ï¼›`pure` å‡½æ•°æ—¢ä¸èƒ½è¯»å–ä¹Ÿä¸èƒ½æ”¹å†™çŠ¶æ€å˜é‡ã€‚

ğŸ‰ å¸Œæœ›è¿™äº›ç¤ºä¾‹èƒ½å¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ Solidity ä¸­çš„å‡½æ•°åŠå…¶å…³é”®å­—ï¼
